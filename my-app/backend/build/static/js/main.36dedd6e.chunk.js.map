{"version":3,"sources":["reducers/notificationReducer.js","services/blogService.js","reducers/blogsReducer.js","services/loginService.js","reducers/userReducer.js","services/userService.js","reducers/usersReducer.js","hooks/index.js","components/Togglable.js","components/BlogForm.js","components/Blogs.js","components/Home.js","components/Menu.js","components/Message.js","components/LoginForm.js","components/User.js","components/Users.js","components/CommentForm.js","components/Blog.js","App.js","store.js","index.js"],"names":["initialState","message","error","notificationSlice","createSlice","name","reducers","showError","state","action","payload","showSuccess","hide","actions","timeout","setMessage","seconds","dispatch","clearTimeout","setTimeout","setErrorMessage","setSuccessMessage","baseUrl","token","getAll","axios","get","response","data","create","newObject","config","headers","Authorization","post","update","id","put","remove","delete","setToken","newToken","blogSlice","likeBlog","map","b","likes","setBlogs","appendBlog","concat","removeBlog","filter","commentBlog","comments","login","credentials","userSlice","setUser","unsetUser","usersSlice","setUsers","appendUser","useField","type","useState","value","setValue","reset","onChange","event","target","Togglable","forwardRef","props","ref","show","setShow","toggleVisibility","useImperativeHandle","Offcanvas","onHide","placement","Header","closeButton","Title","titleText","Body","children","displayName","BlogForm","useDispatch","useSelector","user","username","resetTitle","title","resetAuthor","author","resetUrl","url","resetFields","style","marginBottom","className","Form","onSubmit","blogObject","preventDefault","blogService","created","toggleForm","Group","Control","placeholder","Button","variant","Blogs","navigate","useNavigate","blogs","sortedBlogs","sort","a","onClick","ListGroup","Item","Home","formRef","useRef","current","Menu","padding","Navbar","collapseOnSelect","expand","bg","Brand","fontSize","marginLeft","Toggle","marginRight","Collapse","Nav","Link","href","as","to","size","window","localStorage","removeItem","Message","notification","Alert","LoginForm","password","loginService","loggedUser","jwt_decode","setItem","JSON","stringify","Label","marginTop","User","blog","Users","users","Table","striped","length","CommentForm","commentHandler","comment","showOverlay","setShowOverlay","popover","Popover","OverlayTrigger","overlay","BlogPage","currentUser","likedBlog","Badge","confirm","deleteBlog","commentedBlog","addComment","c","i","App","useEffect","loggedUserJSON","getItem","parse","userService","userMatch","useMatch","matchedUser","find","u","params","blogMatch","matchedBlog","maxWidth","path","element","Blog","store","configureStore","reducer","blogsReducer","notificationReducer","userReducer","usersReducer","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.36dedd6e.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = { message: null, error: false }\r\n\r\nconst notificationSlice = createSlice({\r\n  name: 'notification',\r\n  initialState,\r\n  reducers: {\r\n    showError(state, action) {\r\n      return {\r\n        message: action.payload,\r\n        error: true\r\n      }\r\n    },\r\n    showSuccess(state, action) {\r\n      return {\r\n        message: action.payload,\r\n        error: false\r\n      }\r\n    },\r\n    hide(state, action) {\r\n      return initialState\r\n    }\r\n  }\r\n})\r\n\r\nexport const { showError, showSuccess, hide } = notificationSlice.actions\r\n\r\nlet timeout = null\r\n\r\nconst setMessage = (message, seconds, error) => {\r\n  return async dispatch => {\r\n    if (timeout) {\r\n      clearTimeout(timeout)\r\n    }\r\n    error ? dispatch(showError(message)) : dispatch(showSuccess(message))\r\n    timeout = setTimeout(() => {\r\n      dispatch(hide())\r\n    }, seconds * 1000)\r\n  }\r\n}\r\n\r\nexport const setErrorMessage = (message, seconds) => {\r\n  return dispatch => {\r\n    dispatch(setMessage(message, seconds, true))\r\n  }\r\n}\r\n\r\nexport const setSuccessMessage = (message, seconds) => {\r\n  return dispatch => {\r\n    dispatch(setMessage(message, seconds, false))\r\n  }\r\n}\r\n\r\n\r\nexport default notificationSlice.reducer","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst create = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const response = await axios.put(`${baseUrl}/${id}`, newObject)\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { getAll, create, update, setToken, remove }","import { createSlice } from '@reduxjs/toolkit'\r\nimport { setErrorMessage, setSuccessMessage } from './notificationReducer'\r\nimport blogService from '../services/blogService'\r\n\r\nconst blogSlice = createSlice({\r\n  name: 'blogs',\r\n  initialState: [],\r\n  reducers: {\r\n    likeBlog(state, action) {\r\n      const id = action.payload.id\r\n      return state.map(b => b.id === id ? b = { ...b, likes: action.payload.likes } : b)\r\n    },\r\n    setBlogs(state, action) {\r\n      return action.payload\r\n    },\r\n    appendBlog(state, action) {\r\n      return state.concat(action.payload)\r\n    },\r\n    removeBlog(state, action) {\r\n      return state.filter(b => b.id !== action.payload)\r\n    },\r\n    commentBlog(state, action) {\r\n      const id = action.payload.id\r\n      return state.map(b => b.id === id ? b = { ...b, comments: action.payload.comments } : b)\r\n    }\r\n  }\r\n})\r\n\r\nexport const { commentBlog, likeBlog, setBlogs, appendBlog, removeBlog } = blogSlice.actions\r\n\r\nexport const createBlog = (blogObject) => {\r\n  return async dispatch => {\r\n    try {\r\n      const created = await blogService.create({ ...blogObject, likes: 0 })\r\n      dispatch(appendBlog({ ...created, user: blogObject.user }))\r\n      dispatch(setSuccessMessage(`a new blog ${blogObject.title} by ${blogObject.author} created`, 5))\r\n    } catch (e) {\r\n      dispatch(setErrorMessage(`adding failed: ${e.response.data.error}`, 5))\r\n    }\r\n  }\r\n}\r\n\r\nexport const initializeBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch(setBlogs(blogs))\r\n  }\r\n}\r\n\r\nexport const addLike = (blogObject) => {\r\n  return async dispatch => {\r\n    try {\r\n      const { id, user, ...blog } = blogObject\r\n      const likedBlog = await blogService.update(id, { ...blog, likes: blog.likes + 1 })\r\n      dispatch(likeBlog(likedBlog))\r\n    } catch (e) {\r\n      dispatch(setErrorMessage(`liking failed: ${e.response.data.error}`, 5))\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    try {\r\n      await blogService.remove(id)\r\n      dispatch(removeBlog(id))\r\n      dispatch(setSuccessMessage('blog removed', 5))\r\n    } catch (e) {\r\n      dispatch(setErrorMessage(`removing failed: ${e.response.data.error}`, 5))\r\n    }\r\n  }\r\n}\r\n\r\nexport const addComment = (blogObject, comment) => {\r\n  return async dispatch => {\r\n    try {\r\n      const { id, user, ...blog } = blogObject\r\n      const commentedBlog = await blogService.update(id, { ...blog, comments: blog.comments.concat(comment) })\r\n      dispatch(commentBlog(commentedBlog))\r\n      dispatch(setSuccessMessage('comment added', 5))\r\n    } catch (e) {\r\n      dispatch(setErrorMessage(`commenting failed: ${e.response.data.error}`, 5))\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default blogSlice.reducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { login }","import { createSlice } from '@reduxjs/toolkit'\r\nimport { setErrorMessage, setSuccessMessage } from './notificationReducer'\r\nimport blogService from '../services/blogService'\r\nimport loginService from '../services/loginService'\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nconst initialState = null\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    setUser(state, action) {\r\n      return action.payload\r\n    },\r\n    unsetUser(state, action) {\r\n      return initialState\r\n    }\r\n  }\r\n})\r\n\r\nexport const { setUser, unsetUser } = userSlice.actions\r\n\r\nexport const initializeUser = () => {\r\n  return dispatch => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBloglistUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      blogService.setToken(user.token)\r\n      user.id = jwt_decode(user.token).id\r\n      dispatch(setUser(user))\r\n    }\r\n  }\r\n}\r\n\r\nexport const login = (username, password) => {\r\n  return async dispatch => {\r\n    try {\r\n      const loggedUser = await loginService.login({\r\n        username, password,\r\n      })\r\n      blogService.setToken(loggedUser.token)\r\n      loggedUser.id = jwt_decode(loggedUser.token).id\r\n      window.localStorage.setItem(\r\n        'loggedBloglistUser', JSON.stringify(loggedUser)\r\n      )\r\n      dispatch(setUser(loggedUser))\r\n      dispatch(setSuccessMessage(`welcome, ${username}!`, 5))\r\n    } catch (e) {\r\n      dispatch(setErrorMessage(`${e.response.data.error}`, 5))\r\n    }\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  return dispatch => {\r\n    window.localStorage.removeItem('loggedBloglistUser')\r\n    blogService.setToken(null)\r\n    dispatch(unsetUser())\r\n    dispatch(setSuccessMessage('logged out', 5))\r\n  }\r\n}\r\n\r\n\r\nexport default userSlice.reducer","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst get = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`)\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { getAll, get }","import { createSlice } from '@reduxjs/toolkit'\r\nimport userService from '../services/userService'\r\n\r\nconst initialState = []\r\n\r\nconst usersSlice = createSlice({\r\n  name: 'users',\r\n  initialState,\r\n  reducers: {\r\n    setUsers(state, action) {\r\n      return action.payload\r\n    },\r\n    appendUser(state, action) {\r\n      return state.concat(action.payload)\r\n    }\r\n  }\r\n})\r\n\r\nexport const { setUsers, appendUser } = usersSlice.actions\r\n\r\nexport const initializeUsers = () => {\r\n  return async dispatch => {\r\n    const users = await userService.getAll()\r\n    dispatch(setUsers(users))\r\n  }\r\n}\r\n\r\n\r\nexport default usersSlice.reducer","import { useState } from 'react'\r\n\r\nexport const useField = (name, type) => {\r\n  const [value, setValue] = useState('')\r\n  const id = `${name}-input`\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  const reset = () => {\r\n    setValue('')\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    id,\r\n    reset,\r\n    onChange\r\n  }\r\n}","import { useState, useImperativeHandle, forwardRef } from 'react'\r\nimport { Offcanvas } from 'react-bootstrap'\r\n\r\nconst Togglable = forwardRef((props, ref) => {\r\n  const [show, setShow] = useState(false)\r\n  const toggleVisibility = () => setShow(!show)\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Offcanvas show={show} onHide={toggleVisibility} placement={props.placement}>\r\n      <Offcanvas.Header closeButton>\r\n        <Offcanvas.Title>{props.titleText}</Offcanvas.Title>\r\n      </Offcanvas.Header>\r\n      <Offcanvas.Body>\r\n        {props.children}\r\n      </Offcanvas.Body>\r\n    </Offcanvas>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\n\r\n\r\nexport default Togglable","import { useField } from '../hooks'\r\nimport { forwardRef } from 'react'\r\nimport { createBlog } from '../reducers/blogsReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport Togglable from './Togglable'\r\n\r\nconst BlogForm = forwardRef((props, ref) => {\r\n  const dispatch = useDispatch()\r\n  const { id, name, username } = useSelector(state => state.user)\r\n\r\n  const { reset: resetTitle, ...title } = useField('title', 'text')\r\n  const { reset: resetAuthor, ...author } = useField('author', 'text')\r\n  const { reset: resetUrl, ...url } = useField('url', 'text')\r\n\r\n  const handleCreate = (event) => {\r\n    event.preventDefault()\r\n    dispatch(createBlog({\r\n      title: title.value,\r\n      author: author.value,\r\n      url: url.value,\r\n      user: {\r\n        id,\r\n        name,\r\n        username\r\n      }\r\n    }))\r\n    props.toggleForm()\r\n    resetFields()\r\n  }\r\n\r\n  const resetFields = () => {\r\n    resetTitle()\r\n    resetAuthor()\r\n    resetUrl()\r\n  }\r\n\r\n  const style = {\r\n    marginBottom: 5\r\n  }\r\n\r\n  return (\r\n    <Togglable placement=\"end\" titleText=\"Add a new blog\" ref={ref}>\r\n      <div className=\"formDiv\">\r\n        <Form onSubmit={handleCreate}>\r\n          <Form.Group>\r\n            <div style={style}>\r\n              <Form.Control\r\n                placeholder=\"title here\"\r\n                { ...title }\r\n              />\r\n            </div>\r\n            <div style={style}>\r\n              <Form.Control\r\n                placeholder=\"author here\"\r\n                { ...author }\r\n              />\r\n            </div>\r\n            <div style={style}>\r\n              <Form.Control\r\n                placeholder=\"url here\"\r\n                { ...url }\r\n              />\r\n            </div>\r\n            <Button variant=\"success\" id=\"create-button\" type=\"submit\">\r\n              add\r\n            </Button>\r\n          </Form.Group>\r\n        </Form>\r\n      </div>\r\n    </Togglable>\r\n  )\r\n})\r\n\r\nBlogForm.displayName = 'BlogForm'\r\n\r\nexport default BlogForm","import { useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { ListGroup, Button } from 'react-bootstrap'\r\n\r\nconst Blogs = ({ toggleForm }) => {\r\n  const navigate = useNavigate()\r\n  const blogs = useSelector(state => state.blogs)\r\n  const sortedBlogs = [...blogs].sort((a, b) => b.likes - a.likes)\r\n\r\n  return (\r\n    <div>\r\n      <h4>blogs <Button variant=\"success\" onClick={toggleForm}>add new</Button></h4>\r\n      <ListGroup>\r\n        {sortedBlogs.map(({ id, author, title }) =>\r\n          <ListGroup.Item key={id} action onClick={() => navigate(`/blogs/${id}`)}>\r\n            {title} by {author}\r\n          </ListGroup.Item>\r\n        )}\r\n      </ListGroup>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blogs","import { useRef } from 'react'\r\nimport BlogForm from './BlogForm'\r\nimport Blogs from './Blogs'\r\n\r\nconst Home = () => {\r\n  const formRef = useRef()\r\n  const toggleForm = () => {\r\n    formRef.current.toggleVisibility()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <BlogForm toggleForm={toggleForm} ref={formRef}/>\r\n      <Blogs toggleForm={toggleForm} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import { useSelector, useDispatch } from 'react-redux'\r\nimport { logout } from '../reducers/userReducer'\r\nimport { Navbar, Nav, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Menu = () => {\r\n  const { name } = useSelector(state => state.user)\r\n  const dispatch = useDispatch()\r\n\r\n  const style = {\r\n    padding: 10\r\n  }\r\n\r\n  const navBrandStyle = {\r\n    fontSize: 30,\r\n    marginLeft: 10\r\n  }\r\n\r\n  const toggleStyle = {\r\n    marginRight: 10\r\n  }\r\n\r\n  return (\r\n    <div style={style}>\r\n      <Navbar collapseOnSelect expand=\"sm\" bg=\"light\">\r\n        <Navbar.Brand>\r\n          <strong style={navBrandStyle}>Blogapp</strong>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle style={toggleStyle} aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav style={style} className=\"m-auto\">\r\n            <Nav.Link href=\"#\" as=\"span\">\r\n              <Link to='/'>Blogs</Link>\r\n            </Nav.Link>\r\n            <Nav.Link href=\"#\" as=\"span\">\r\n              <Link to='/users'>Users</Link>\r\n            </Nav.Link>\r\n            <Nav.Link href=\"#\" as=\"span\">\r\n              <em>{name} logged in </em>\r\n              <Button size=\"sm\" variant=\"secondary\" id=\"logout-button\" onClick={() => dispatch(logout())}>\r\n                logout\r\n              </Button>\r\n            </Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Menu","import { useSelector } from 'react-redux'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\n\r\nconst Message = () => {\r\n  const { message, error } = useSelector(state => state.notification)\r\n  if (message === null)\r\n    return null\r\n\r\n  return (\r\n    <div className=\"message\">\r\n      <Alert variant={error ? 'danger' : 'success'}>{message}</Alert>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Message","import { useField } from '../hooks'\r\nimport { useDispatch } from 'react-redux'\r\nimport { login } from '../reducers/userReducer'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch()\r\n  const { reset: resetUsername, ...username } = useField('username', 'text')\r\n  const { reset: resetPassword, ...password } = useField('password', 'password')\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault()\r\n    dispatch(login(\r\n      username.value,\r\n      password.value\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <h2>Login</h2>\r\n      </div>\r\n      <Form onSubmit={handleLogin}>\r\n        <Form.Group>\r\n          <Form.Label>username:</Form.Label>\r\n          <Form.Control\r\n            { ...username }\r\n          />\r\n          <Form.Label>password:</Form.Label>\r\n          <Form.Control\r\n            { ...password}\r\n          />\r\n          <Button style={{ marginTop: 5 }} variant=\"primary\" id=\"login-button\" type=\"submit\">\r\n            login\r\n          </Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default LoginForm","import { Link } from 'react-router-dom'\r\n\r\n\r\nconst User = ({ user }) => {\r\n  if (!user) {\r\n    return null\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>{user.name}</h2>\r\n      <h5>added blogs</h5>\r\n      <div>\r\n        {user.blogs.map(blog =>\r\n          <div key={blog.id}>\r\n            <Link to={`/blogs/${blog.id}`}>{blog.title}</Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default User","import { useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table } from 'react-bootstrap'\r\n\r\n\r\nconst Users = () => {\r\n  const users = useSelector(state => state.users)\r\n\r\n  return (\r\n    <div>\r\n      <Table striped>\r\n        <tbody>\r\n          <tr>\r\n            <th><strong>username</strong></th>\r\n            <th><strong>blogs created</strong></th>\r\n          </tr>\r\n          {users.map(user =>\r\n            <tr key={user.id}>\r\n              <td>\r\n                <Link to={`/users/${user.id}`}>{user.username}</Link>\r\n              </td>\r\n              <td>\r\n                {user.blogs.length}\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Users","import { useState } from 'react'\r\nimport { Form, Button, Popover, OverlayTrigger } from 'react-bootstrap'\r\nimport { useField } from '../hooks'\r\n\r\n\r\nconst CommentForm = ({ commentHandler }) => {\r\n  const { reset, ...comment } = useField('comment', 'text')\r\n  const [showOverlay, setShowOverlay] = useState(false)\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    commentHandler(comment.value)\r\n    reset()\r\n    setShowOverlay(!showOverlay)\r\n  }\r\n\r\n  const popover = (\r\n    <Popover id=\"popover-basic\">\r\n      <Popover.Header as=\"h3\">{'Be nice :)'}</Popover.Header>\r\n      <Popover.Body>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Control\r\n              { ...comment }\r\n            />\r\n          </Form.Group>\r\n          <Button style={{ marginTop: 5 }} type=\"submit\">\r\n            add\r\n          </Button>\r\n        </Form>\r\n      </Popover.Body>\r\n    </Popover>\r\n  )\r\n\r\n  return (\r\n    <OverlayTrigger show={showOverlay} placement=\"right\" overlay={popover}>\r\n      <Button variant=\"success\" onClick={() => setShowOverlay(!showOverlay)}>\r\n        Leave a comment\r\n      </Button>\r\n    </OverlayTrigger>\r\n  )\r\n}\r\n\r\n\r\nexport default CommentForm","import { useSelector, useDispatch } from 'react-redux'\r\nimport { addLike, deleteBlog, addComment } from '../reducers/blogsReducer'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport { Button, Badge } from 'react-bootstrap'\r\nimport CommentForm from './CommentForm'\r\n\r\n\r\nconst BlogPage = ({ blog }) => {\r\n  const navigate = useNavigate()\r\n  const currentUser = useSelector(state => state.user)\r\n  const dispatch = useDispatch()\r\n\r\n  if (!blog) {\r\n    return null\r\n  }\r\n\r\n  const { id, title, author, url, user, likes, comments } = blog\r\n\r\n  const handleDelete = () => {\r\n    if (window.confirm(`Remove ${title} by ${author}?`)) {\r\n      dispatch(deleteBlog(id))\r\n      navigate('/')\r\n    }\r\n  }\r\n\r\n  const handleLike = () => {\r\n    dispatch(addLike(blog))\r\n  }\r\n\r\n  const handleComment = (comment) => {\r\n    dispatch(addComment(blog, comment))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        <span style={{ marginRight: 10 }}>{title} by {author}</span>\r\n        <Button onClick={handleLike} size=\"sm\">\r\n          Likes <Badge bg=\"secondary\">{likes}</Badge>\r\n        </Button>\r\n      </h3>\r\n      <div>\r\n        <a href={`//${url}`}>{url}</a>\r\n      </div>\r\n      <div>\r\n        added by <Link to={`/users/${user.id}`}>{user.name}</Link>\r\n      </div>\r\n      <div>\r\n        {user.id === currentUser.id\r\n          ? <Button variant=\"warning\" id=\"remove-button\" onClick={handleDelete}>remove</Button>\r\n          : null\r\n        }\r\n      </div>\r\n      <div style={ { marginTop: 20 } }>\r\n        <CommentForm commentHandler={handleComment} />\r\n        <div style={ { marginTop: 20 } }>\r\n          <h5>Comments</h5>\r\n          <ul>\r\n            {comments.map((c, i) =>\r\n              <li key={i}>{c}</li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogPage","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { initializeBlogs } from './reducers/blogsReducer'\r\nimport { initializeUser } from './reducers/userReducer'\r\nimport { initializeUsers } from './reducers/usersReducer'\r\nimport { Routes, Route, useMatch } from 'react-router-dom'\r\nimport Home from './components/Home'\r\nimport Menu from './components/Menu'\r\nimport Message from './components/Message'\r\nimport LoginForm from './components/LoginForm'\r\nimport User from './components/User'\r\nimport Users from './components/Users'\r\nimport Blog from './components/Blog'\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.user)\r\n  const users = useSelector(state => state.users)\r\n  const blogs = useSelector(state => state.blogs)\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeBlogs())\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeUser())\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeUsers())\r\n  }, [blogs])\r\n\r\n  const userMatch = useMatch('/users/:id')\r\n  const matchedUser = userMatch\r\n    ? users.find(u => u.id === userMatch.params.id)\r\n    : null\r\n\r\n  const blogMatch = useMatch('/blogs/:id')\r\n  const matchedBlog = blogMatch\r\n    ? blogs.find(b => b.id === blogMatch.params.id)\r\n    : null\r\n\r\n  return (\r\n    <div className=\"container\" style={{ maxWidth: 1080 }}>\r\n      {user === null\r\n        ?\r\n        <div>\r\n          <Message />\r\n          <LoginForm />\r\n        </div>\r\n        :\r\n        <div>\r\n          <Menu />\r\n          <div style={{ padding: '3%' }}>\r\n            <Message />\r\n            <Routes>\r\n              <Route path='/' element={<Home />} />\r\n              <Route path='/users' element={<Users />} />\r\n              <Route path='/users/:id' element={<User user={matchedUser} />} />\r\n              <Route path='/blogs/:id' element={<Blog blog={matchedBlog} />} />\r\n            </Routes>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import { configureStore } from '@reduxjs/toolkit'\r\nimport blogsReducer from './reducers/blogsReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    blogs: blogsReducer,\r\n    notification: notificationReducer,\r\n    user: userReducer,\r\n    users: usersReducer\r\n  }\r\n})\r\n\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport store from './store'\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>\r\n)"],"sourceRoot":""}